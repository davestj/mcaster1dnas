<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration Reference - Mcaster1DNAS Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">
    <style>
        :root{--mcaster-blue:#0ea5e9;--dnas-green:#22c55e;--text-primary:#1f2937;--text-secondary:#6b7280;--bg-white:#fff;--bg-light:#f8fafc;--bg-accent:#f1f5f9;--border-light:#e2e8f0;--shadow-medium:0 4px 6px -1px rgb(0 0 0 / 0.1);--gradient-brand:linear-gradient(135deg, var(--mcaster-blue), var(--dnas-green));--radius-md:0.5rem;--radius-lg:0.75rem;--font-sans:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;--font-mono:'SF Mono', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:var(--font-sans);line-height:1.6;color:var(--text-primary);background:var(--bg-light)}
        .breadcrumb{background:var(--bg-white);padding:1rem 0;border-bottom:1px solid var(--border-light)}
        .breadcrumb-container{max-width:1200px;margin:0 auto;padding:0 1rem;display:flex;align-items:center;gap:0.5rem;color:var(--text-secondary);font-size:0.875rem}
        .breadcrumb a{color:var(--mcaster-blue);text-decoration:none}
        .hero{background:var(--gradient-brand);color:white;padding:4rem 0 2rem 0}
        .hero-content{max-width:1200px;margin:0 auto;padding:0 1rem}
        .hero h1{font-size:3rem;font-weight:800;margin-bottom:0.5rem}
        .hero p{font-size:1.25rem;opacity:0.95}
        .container{max-width:1200px;margin:0 auto;padding:3rem 1rem}
        .content-card{background:var(--bg-white);border-radius:var(--radius-lg);padding:3rem;box-shadow:var(--shadow-medium);margin-bottom:2rem}
        .content-card h2{font-size:2rem;font-weight:700;color:var(--text-primary);margin:2.5rem 0 1rem 0;display:flex;align-items:center;gap:0.75rem}
        .content-card h2:first-child{margin-top:0}
        .content-card h2 i{color:var(--mcaster-blue)}
        .content-card h3{font-size:1.5rem;font-weight:600;color:var(--text-primary);margin:2rem 0 1rem 0}
        .content-card h4{font-size:1.25rem;font-weight:600;color:var(--text-primary);margin:1.5rem 0 0.75rem 0}
        .content-card p{font-size:1.125rem;color:var(--text-secondary);line-height:1.8;margin-bottom:1.5rem}
        .content-card ul{margin:1rem 0 1.5rem 2rem}
        .content-card li{color:var(--text-secondary);line-height:1.8;margin-bottom:0.75rem}
        .code-block{background:#1e293b;color:#e2e8f0;padding:1.5rem;border-radius:var(--radius-md);overflow-x:auto;margin:1.5rem 0;font-family:var(--font-mono);font-size:0.875rem;line-height:1.6}
        .alert-box{padding:1.5rem;border-radius:var(--radius-md);margin:1.5rem 0;display:flex;align-items:flex-start;gap:1rem}
        .alert-warning{background:#fef3c7;border:1px solid #f59e0b}
        .alert-info{background:#dbeafe;border:1px solid #3b82f6}
        .alert-icon{font-size:1.25rem;flex-shrink:0}
        .alert-warning .alert-icon{color:#d97706}
        .alert-info .alert-icon{color:#1e40af}
        .alert-content{flex-grow:1}
        .alert-warning .alert-content{color:#92400e}
        .alert-info .alert-content{color:#1e3a8a}
        .toc{background:var(--bg-light);border-left:4px solid var(--dnas-green);padding:1.5rem;border-radius:var(--radius-lg);margin:2rem 0}
        .toc h3{font-size:1.25rem;margin-bottom:1rem}
        .toc ul{list-style:none;margin:0}
        .toc li{margin:0.5rem 0}
        .toc a{color:var(--mcaster-blue);text-decoration:none;font-weight:500}
        .config-param{background:var(--bg-light);border-left:4px solid var(--mcaster-blue);padding:1rem 1.5rem;border-radius:var(--radius-md);margin:1rem 0}
        .config-param h4{margin:0 0 0.5rem 0;font-family:var(--font-mono);font-size:1.125rem}
        .config-param p{margin:0;font-size:1rem}
        @media (max-width:768px){.hero h1{font-size:2rem}.content-card{padding:2rem 1.5rem}}
    </style>
</head>
<body>
    <div class="breadcrumb">
        <div class="breadcrumb-container">
            <a href="index.html"><i class="fas fa-home"></i> Documentation</a>
            <i class="fas fa-chevron-right"></i>
            <span>Configuration Reference</span>
        </div>
    </div>

    <div class="hero">
        <div class="hero-content">
            <h1><i class="fas fa-cog"></i> Configuration Reference</h1>
            <p>Complete YAML and XML configuration guide for Mcaster1DNAS v2.5.1-rc1</p>
        </div>
    </div>

    <div class="container">
        <div class="content-card">
            <h2><i class="fas fa-info-circle"></i> Overview</h2>
            <p>
                This comprehensive reference documents all configuration options for Mcaster1DNAS v2.5.1-rc1. The server
                supports both YAML and XML configuration formats, with YAML being the recommended format going forward.
            </p>

            <div class="alert-box alert-info">
                <i class="fas fa-info-circle alert-icon"></i>
                <div class="alert-content">
                    <strong>Both formats fully supported:</strong> YAML and XML are both auto-detected by file extension
                    and equally supported in v2.5.1-rc1. YAML is recommended for new deployments — it is more readable,
                    easier to maintain, and version-control friendly. XML is retained for backward compatibility.
                </div>
            </div>

            <div class="alert-box alert-info">
                <i class="fas fa-sync-alt alert-icon"></i>
                <div class="alert-content">
                    <strong>Live Configuration Reload:</strong> Mcaster1DNAS v2.5.1-rc1 supports live configuration reloading
                    via the admin interface. Access http://yourserver:9300/admin/reloadconfig to apply configuration changes
                    without restarting the server. Note that some settings require a full restart to take effect.
                </div>
            </div>

            <div class="toc">
                <h3><i class="fas fa-list"></i> Configuration Sections</h3>
                <ul>
                    <li><a href="#complete-example">Complete YAML Configuration Example</a></li>
                    <li><a href="#server">Server Settings</a></li>
                    <li><a href="#limits">Limits and Thresholds</a></li>
                    <li><a href="#authentication">Authentication</a></li>
                    <li><a href="#listen">Listen Sockets</a></li>
                    <li><a href="#ssl">SSL/TLS Configuration</a></li>
                    <li><a href="#paths">File Paths</a></li>
                    <li><a href="#logging">Logging Configuration</a></li>
                    <li><a href="#song-history">Song History Settings</a></li>
                    <li><a href="#yp">YP Directory Settings</a></li>
                    <li><a href="#relay">Relay Configuration</a></li>
                    <li><a href="#mount">Mount-Specific Settings</a></li>
                </ul>
            </div>

            <h2 id="complete-example"><i class="fas fa-file-code"></i> Complete YAML Configuration Example</h2>
            <p>
                This is a comprehensive example showing all available configuration options in YAML format for Mcaster1DNAS v2.5.1-rc1.
            </p>

            <div class="code-block"><pre># Mcaster1DNAS v2.5.1-rc1 Configuration (YAML)
# Complete example with all available options

server:
  hostname: stream.example.com
  location: Earth
  admin: admin@example.com
  server_id: Mcaster1DNAS v2.5.1-rc1
  fileserve: true

limits:
  clients: 800                  # Maximum concurrent connections
  sources: 10                   # Maximum source clients
  max_listeners: 700            # Maximum listeners (distinct from clients)
  queue_size: 512000            # Client queue size in bytes
  header_timeout: 15            # Header timeout in seconds
  source_timeout: 10            # Source timeout in seconds
  burst_size: 65536             # Or use "4s" for time-based

authentication:
  source_password: hackme
  relay_user: relay
  relay_password: hackme
  admin_user: admin
  admin_password: hackme

listen:
  - port: 9300
    bind_address: 0.0.0.0
  - port: 9301
    bind_address: 0.0.0.0
    shoutcast_mount: /live

ssl:
  enabled: true
  certificate: /etc/ssl/certs/server.pem
  private_key: /etc/ssl/private/key.pem
  ca_file: /etc/ssl/certs/ca-bundle.pem
  listen:
    - port: 9443
      bind_address: 0.0.0.0

paths:
  basedir: /usr/share/mcaster1dnas
  logdir: /var/log/mcaster1
  webroot: /usr/share/mcaster1dnas/web
  adminroot: /usr/share/mcaster1dnas/admin
  pidfile: /var/run/mcaster1.pid
  mime_types: /etc/mime.types

logging:
  loglevel: 3                   # 4=Debug, 3=Info, 2=Warn, 1=Error
  access_log: access.log
  error_log: error.log
  playlist_log: playlist.log
  log_archive: true
  log_size: 100M

yp:
  directories:
    - url: http://dir.xiph.org/cgi-bin/yp-cgi
      timeout: 15

relay:
  max_redirect_slaves: 5
  master:
    server: 192.168.1.11
    port: 9301
    username: relay
    password: hackme
    update_interval: 120
    redirect: true

mount:
  - path: /stream
    stream_name: "My Radio Station"
    stream_description: "The best music 24/7"
    stream_url: https://example.com
    genre: Rock
    bitrate: 128
    max_listeners: 100
    public: true
    fallback_mount: /backup
    burst_size: 65536
    authentication:
      type: htpasswd
      filename: /etc/mcaster1/users.htpasswd
      allow_duplicate_users: false</pre></div>

            <h2 id="server"><i class="fas fa-server"></i> Server Settings</h2>
            <p>Global server identification and behavior settings.</p>

            <div class="config-param">
                <h4>hostname</h4>
                <p>
                    The public hostname or IP address of your server. Used for generating stream URLs and YP directory listings.
                    Example: stream.example.com
                </p>
            </div>

            <div class="config-param">
                <h4>location</h4>
                <p>
                    Geographic location of the server for informational purposes. Example: "New York, USA"
                </p>
            </div>

            <div class="config-param">
                <h4>admin</h4>
                <p>
                    Administrator email address displayed in server statistics and YP directories. Example: admin@example.com
                </p>
            </div>

            <div class="config-param">
                <h4>server_id</h4>
                <p>
                    Server identification string. Default is "Mcaster1DNAS v2.5.1-rc1" but can be customized.
                </p>
            </div>

            <div class="config-param">
                <h4>fileserve</h4>
                <p>
                    Enable static file serving from the webroot directory. Set to true/false (YAML) or 1/0 (XML).
                </p>
            </div>

            <h2 id="limits"><i class="fas fa-tachometer-alt"></i> Limits and Thresholds</h2>
            <p>
                Server-wide limits that control resource usage and connection management. These settings help prevent
                runaway resource consumption and ensure server stability.
            </p>

            <div class="config-param">
                <h4>clients</h4>
                <p>
                    Maximum total concurrent connections to the server. This includes listeners, source clients, admin
                    requests, and static file requests. Set higher than expected listener count to allow for overhead.
                    Default: 800. Relay connections are not counted against this limit.
                </p>
            </div>

            <div class="config-param">
                <h4>sources</h4>
                <p>
                    Maximum number of source clients (encoders) allowed to connect simultaneously. Default: 2.
                </p>
            </div>

            <div class="config-param">
                <h4>max_listeners</h4>
                <p>
                    Maximum number of listeners allowed across all mountpoints. This is separate from the clients limit
                    to prevent other connection types from being blocked. Default: No limit.
                </p>
            </div>

            <div class="config-param">
                <h4>queue_size</h4>
                <p>
                    Maximum size in bytes of the internal queue for each listener. If network congestion causes a listener's
                    queue to exceed this size, the listener is disconnected. Default: 512000 (500KB).
                </p>
            </div>

            <div class="config-param">
                <h4>header_timeout</h4>
                <p>
                    Maximum time in seconds to wait for HTTP headers after a connection is established. Default: 15.
                </p>
            </div>

            <div class="config-param">
                <h4>source_timeout</h4>
                <p>
                    Maximum time in seconds a source connection can be idle before being disconnected. Default: 10.
                </p>
            </div>

            <div class="config-param">
                <h4>burst_size</h4>
                <p>
                    Amount of data sent immediately to new listeners to fill their player buffer. Can be specified in bytes
                    (e.g., 65536) or seconds (e.g., "4s"). The time-based format automatically adjusts for different bitrates.
                    Default: 65536 bytes (64KB).
                </p>
            </div>

            <h2 id="authentication"><i class="fas fa-key"></i> Authentication</h2>
            <p>Server-wide authentication credentials for sources, relays, and administration.</p>

            <div class="config-param">
                <h4>source_password</h4>
                <p>
                    Default password for source clients connecting with username "source". Can be overridden per-mountpoint.
                </p>
            </div>

            <div class="config-param">
                <h4>relay_user / relay_password</h4>
                <p>
                    Credentials used by slave servers to authenticate when requesting the list of streams to relay from
                    this master server. Default username: "relay".
                </p>
            </div>

            <div class="config-param">
                <h4>admin_user / admin_password</h4>
                <p>
                    Credentials for accessing all admin functions including statistics, web interface, and server control.
                </p>
            </div>

            <h2 id="listen"><i class="fas fa-network-wired"></i> Listen Sockets</h2>
            <p>
                Configure network interfaces and ports where Mcaster1DNAS accepts connections. Multiple listen sockets
                can be defined for different purposes.
            </p>

            <div class="code-block"><pre># YAML format
listen:
  - port: 9300
    bind_address: 0.0.0.0       # Listen on all interfaces
  - port: 9301
    bind_address: 127.0.0.1     # Listen only on localhost
    shoutcast_mount: /live      # Mount for Shoutcast source clients</pre></div>

            <div class="config-param">
                <h4>port</h4>
                <p>TCP port number to listen on. Mcaster1DNAS defaults to <strong>9300</strong> for HTTP and <strong>9443</strong> for HTTPS. If migrating from Icecast, update encoders from port 8000 to 9300.</p>
            </div>

            <div class="config-param">
                <h4>bind_address</h4>
                <p>
                    Optional IP address to bind to. Use 0.0.0.0 for all interfaces, 127.0.0.1 for localhost only,
                    or a specific interface IP. Omit to bind to all interfaces.
                </p>
            </div>

            <div class="config-param">
                <h4>shoutcast_mount</h4>
                <p>
                    Mountpoint path for Shoutcast DSP source clients connecting to this port. Shoutcast sources require
                    two sequential ports (this port and port+1).
                </p>
            </div>

            <h2 id="ssl"><i class="fas fa-lock"></i> SSL/TLS Configuration</h2>
            <p>
                Enable HTTPS encryption for streams and admin interface. Mcaster1DNAS v2.5.1-rc1 includes enhanced
                SSL/TLS support with modern cipher suites.
            </p>

            <div class="code-block"><pre># YAML format
ssl:
  enabled: true
  certificate: /etc/ssl/certs/server.pem
  private_key: /etc/ssl/private/key.pem
  ca_file: /etc/ssl/certs/ca-bundle.pem
  listen:
    - port: 9443
      bind_address: 0.0.0.0</pre></div>

            <div class="config-param">
                <h4>enabled</h4>
                <p>Enable or disable SSL/TLS support. Set to true/false.</p>
            </div>

            <div class="config-param">
                <h4>certificate</h4>
                <p>Path to PEM-formatted server certificate. May include certificate bundle.</p>
            </div>

            <div class="config-param">
                <h4>private_key</h4>
                <p>Path to PEM-formatted private key file.</p>
            </div>

            <div class="config-param">
                <h4>ca_file</h4>
                <p>Path to Certificate Authority bundle. Often provided by OS SSL library but can be overridden.</p>
            </div>

            <h2 id="paths"><i class="fas fa-folder"></i> File Paths</h2>
            <p>Directory and file locations used by Mcaster1DNAS. All paths should not end with a slash.</p>

            <div class="config-param">
                <h4>basedir</h4>
                <p>
                    Base directory used for chroot security (Unix/Linux only). All other paths become relative to this
                    when chroot is enabled.
                </p>
            </div>

            <div class="config-param">
                <h4>logdir</h4>
                <p>Directory where log files (access.log, error.log) are written. Default: ./logs</p>
            </div>

            <div class="config-param">
                <h4>webroot</h4>
                <p>
                    Directory for static files served by the fileserver. Stream playlist files and static content are
                    served from here. Default: ./web
                </p>
            </div>

            <div class="config-param">
                <h4>adminroot</h4>
                <p>
                    Directory containing XSLT stylesheets and resources for the web-based admin interface. Default: ./admin
                </p>
            </div>

            <div class="config-param">
                <h4>pidfile</h4>
                <p>
                    File where the process ID is written at startup and removed at shutdown. Useful for init scripts
                    and process management. Default: ./mcaster1.pid
                </p>
            </div>

            <div class="config-param">
                <h4>mime_types</h4>
                <p>
                    Path to MIME types file for file serving. Typically /etc/mime.types on Unix systems. Not usually
                    required as common types are built-in.
                </p>
            </div>

            <h2 id="logging"><i class="fas fa-file-alt"></i> Logging Configuration</h2>
            <p>
                Mcaster1DNAS v2.5.1-rc1 includes enhanced logging capabilities with automatic log rotation and
                configurable verbosity levels.
            </p>

            <div class="code-block"><pre># YAML format
logging:
  loglevel: 3                   # 4=Debug, 3=Info, 2=Warn, 1=Error
  access_log: access.log
  error_log: error.log
  playlist_log: playlist.log    # Optional metadata logging
  log_archive: true             # Append timestamp to rotated logs
  log_size: 100M                # Rotate when log reaches this size</pre></div>

            <div class="config-param">
                <h4>loglevel</h4>
                <p>
                    Logging verbosity: 4=Debug (very verbose), 3=Info (recommended), 2=Warn (problems only), 1=Error (critical only).
                    Debug level can generate very large log files.
                </p>
            </div>

            <div class="config-param">
                <h4>access_log</h4>
                <p>
                    Filename for HTTP access log. Records all listener connections, admin requests, and file serves.
                    Relative to logdir.
                </p>
            </div>

            <div class="config-param">
                <h4>error_log</h4>
                <p>
                    Filename for error and informational log. All server messages are written here. Relative to logdir.
                </p>
            </div>

            <div class="config-param">
                <h4>playlist_log</h4>
                <p>
                    Optional log file recording metadata updates for each mountpoint. Format is pipe-delimited. Useful
                    for royalty reporting and analytics.
                </p>
            </div>

            <div class="config-param">
                <h4>log_archive</h4>
                <p>
                    When true, append timestamp to rotated logs (logfile.TIMESTAMP). When false, rotate to logfile.old
                    (overwriting previous backup). Default: false.
                </p>
            </div>

            <div class="config-param">
                <h4>log_size</h4>
                <p>
                    Maximum log file size before automatic rotation. Use format like "100M" for megabytes or "1G" for
                    gigabytes. Set to 0 to disable automatic rotation.
                </p>
            </div>

            <h2 id="song-history"><i class="fas fa-music"></i> Song History Settings</h2>
            <p>
                Mcaster1DNAS v2.5.1-rc1 automatically logs track metadata to an in-memory ring buffer whenever a
                source client updates the ICY-META title. No additional configuration is required to enable this
                feature — it is always on.
            </p>

            <div class="code-block"><pre># YAML format — top-level setting (not nested under any section)
song-history-limit: 25   # Number of tracks to keep (0 = unlimited, default 25)</pre></div>

            <div class="config-param">
                <h4>song-history-limit</h4>
                <p>
                    Maximum number of tracks stored in the in-memory ring buffer. When the buffer is full, the oldest
                    entry is discarded. Consecutive plays of the same track are deduplicated automatically.
                    Set to <code>0</code> for unlimited history (bounded only by available RAM).
                    Default: <code>25</code>.
                </p>
                <p>
                    Access the track history at:
                </p>
                <ul>
                    <li><strong>Raw API:</strong> <code>GET /mcaster1songdata</code> — XML response</li>
                    <li><strong>Public page:</strong> <code>/songdata.xsl</code> — human-readable table with MusicBrainz, Last.fm, Discogs, and AllMusic lookup icons</li>
                    <li><strong>Admin page:</strong> <code>/admin/songdata.xsl</code> — same table plus listener counts (requires admin login)</li>
                </ul>
            </div>

            <h2 id="yp"><i class="fas fa-list"></i> YP Directory Settings</h2>
            <p>
                Configure YP (Yellow Pages) directory servers for public stream listing. Mcaster1DNAS v2.5.1-rc1 includes
                enhanced YP logging for troubleshooting registration issues.
            </p>

            <div class="code-block"><pre># YAML format
yp:
  directories:
    - url: http://dir.xiph.org/cgi-bin/yp-cgi
      timeout: 15
      yp-logfile: /var/log/mcaster1/yp-xiph.log   # optional: per-server log path

    - url: http://dir2.xiph.org/cgi-bin/yp-cgi
      timeout: 15
      # no yp-logfile -> uses &lt;logdir&gt;/yp-health.log automatically</pre></div>

            <div class="config-param">
                <h4>url</h4>
                <p>
                    Directory server endpoint URL. Provided by the directory service operator. Multiple directories can
                    be configured for redundancy.
                </p>
            </div>

            <div class="config-param">
                <h4>timeout</h4>
                <p>
                    Maximum time in seconds to wait for directory server response. Default: 15. Increase if directory
                    is slow or remote.
                </p>
            </div>

            <div class="config-param">
                <h4>yp-logfile</h4>
                <p>
                    Optional path to a dedicated log file for this directory server's operations. When omitted,
                    all YP events are written to <code>&lt;logdir&gt;/yp-health.log</code> automatically.
                    Useful when registering with multiple directories and you want per-server logs.
                    See <a href="mcaster1dnas_yp.html#yp-logging" style="color:var(--mcaster-blue)">YP Logging documentation</a>
                    for the full log format and action reference.
                </p>
            </div>

            <h2 id="relay"><i class="fas fa-network-wired"></i> Relay Configuration</h2>
            <p>
                Configure stream relaying for load distribution and geographic redundancy. See the
                <a href="mcaster1dnas_relay.html" style="color:var(--mcaster-blue)">Relay Documentation</a> for detailed examples.
            </p>

            <h3>Master-Slave Relay (YAML)</h3>
            <div class="code-block"><pre>relay:
  max_redirect_slaves: 5
  master:
    server: 192.168.1.11
    port: 9301
    username: relay
    password: hackme
    update_interval: 120
    redirect: true</pre></div>

            <h3>Single-Broadcast Relay (YAML)</h3>
            <div class="code-block"><pre>relay:
  relays:
    - server: 192.168.1.11
      port: 9301
      mount: /example.ogg
      local_mount: /different.ogg
      username: relay
      password: hackme</pre></div>

            <h2 id="mount"><i class="fas fa-mountain"></i> Mount-Specific Settings</h2>
            <p>
                Per-mountpoint configuration overrides. Define settings for specific streams including authentication,
                limits, metadata, and fallback behavior.
            </p>

            <div class="code-block"><pre># YAML format
mount:
  - path: /premium
    stream_name: "Premium Stream"
    stream_description: "High quality audio"
    stream_url: https://example.com
    genre: Jazz
    bitrate: 320
    max_listeners: 100
    public: true
    fallback_mount: /backup
    fallback_when_full: true
    burst_size: 65536
    authentication:
      type: htpasswd
      filename: /etc/mcaster1/users.htpasswd
      allow_duplicate_users: false
    on_connect: /usr/local/bin/stream-start
    on_disconnect: /usr/local/bin/stream-end</pre></div>

            <div class="config-param">
                <h4>path</h4>
                <p>
                    Mountpoint path (e.g., /stream, /live.ogg). Supports wildcards (e.g., /*.mp3) to apply settings
                    to multiple mounts matching a pattern.
                </p>
            </div>

            <div class="config-param">
                <h4>stream_name</h4>
                <p>Stream title displayed in players and YP directories.</p>
            </div>

            <div class="config-param">
                <h4>stream_description</h4>
                <p>Detailed description for YP directories and statistics.</p>
            </div>

            <div class="config-param">
                <h4>stream_url</h4>
                <p>Website URL associated with the stream.</p>
            </div>

            <div class="config-param">
                <h4>genre</h4>
                <p>Stream category/genre for YP directories (e.g., Rock, Jazz, Talk).</p>
            </div>

            <div class="config-param">
                <h4>bitrate</h4>
                <p>Stream bitrate in kbps. Used for YP listings and statistics.</p>
            </div>

            <div class="config-param">
                <h4>max_listeners</h4>
                <p>Maximum concurrent listeners for this mountpoint. Overrides server-wide limit.</p>
            </div>

            <div class="config-param">
                <h4>public</h4>
                <p>
                    Control YP directory listing: true=force listing, false=prevent listing, omit=let source decide.
                    Default: Source client controls via ice-public header.
                </p>
            </div>

            <div class="config-param">
                <h4>fallback_mount</h4>
                <p>
                    Mountpoint to transfer listeners to when source disconnects. Can be another mountpoint or a static
                    file in webroot. Enables multi-level fallback cascading.
                </p>
            </div>

            <div class="config-param">
                <h4>fallback_when_full</h4>
                <p>
                    When true, redirect new listeners to fallback mount when max_listeners is reached. Useful for
                    overflow handling.
                </p>
            </div>

            <div class="config-param">
                <h4>authentication</h4>
                <p>
                    Listener authentication configuration. See <a href="mcaster1dnas_listenerauth.html" style="color:var(--mcaster-blue)">Listener Authentication</a>
                    for htpasswd and URL authentication details.
                </p>
            </div>

            <div class="config-param">
                <h4>on_connect / on_disconnect</h4>
                <p>
                    Shell scripts executed when source connects/disconnects. Script receives mountpoint path as parameter.
                    Useful for automation and notifications. Not available on Windows.
                </p>
            </div>

            <h2><i class="fas fa-book"></i> Additional Resources</h2>
            <ul>
                <li><a href="mcaster1dnas_basicsetup.html" style="color:var(--mcaster-blue)">Basic Setup Guide</a> - Get started with your first configuration</li>
                <li><a href="mcaster1dnas_relay.html" style="color:var(--mcaster-blue)">Relay Configuration</a> - Detailed relay examples</li>
                <li><a href="mcaster1dnas_listenerauth.html" style="color:var(--mcaster-blue)">Listener Authentication</a> - Secure your streams</li>
                <li><a href="mcaster1dnas_yp.html" style="color:var(--mcaster-blue)">YP Directory Listing</a> - Publish to stream directories</li>
                <li><a href="mcaster1dnas_admin.html" style="color:var(--mcaster-blue)">Admin Interface</a> - Manage your server</li>
            </ul>

            <div style="background:var(--bg-accent);border-left:4px solid var(--dnas-green);padding:1.5rem;border-radius:var(--radius-lg);margin-top:2rem">
                <p style="margin:0;color:var(--text-primary)">
                    <strong><i class="fas fa-lightbulb"></i> Best Practices:</strong>
                    Use YAML configuration for new deployments. Keep your configuration under version control.
                    Test configuration changes with <code>/admin/reloadconfig</code> before full restart.
                    Document custom settings with comments for future maintenance.
                </p>
            </div>
        </div>
    </div>
</body>
</html>
