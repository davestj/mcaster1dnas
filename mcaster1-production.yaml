---
# Mcaster1DNAS Production Configuration (YAML)
# Converted from mcaster1-production.xml
# Server: 15.204.91.208
# Ports: 9330 (HTTP), 9443 (HTTPS)

location: "Earth"
admin: "admin@mcaster1.com"
hostname: "15.204.91.208"
fileserve: true

# Authentication
authentication:
  source-password: "hackme"
  relay-password: "hackme"
  admin-user: "admin"
  admin-password: "hackme"

# Resource Limits
limits:
  clients: 100
  sources: 10
  workers: 2
  queue-size: 524288
  burst-size: 65535
  client-timeout: 30
  header-timeout: 15
  source-timeout: 10

# Listen Sockets
listen-sockets:
  # HTTP on port 9330
  - port: 9330
    bind-address: "15.204.91.208"

  # HTTPS/SSL on port 9443
  - port: 9443
    bind-address: "15.204.91.208"

# Paths
paths:
  basedir: "/var/www/mcaster1.com/mcaster1dnas/build"
  logdir: "/var/www/mcaster1.com/mcaster1dnas/build/logs"
  webroot: "/var/www/mcaster1.com/mcaster1dnas/web"
  adminroot: "/var/www/mcaster1.com/mcaster1dnas/admin"
  ssl-certificate: "/etc/ssl/mcaster1.com/dnas.mcaster1.com.fullchain.pem"
  pidfile: "/var/www/mcaster1.com/mcaster1dnas/build/mcaster1.pid"

  # Aliases
  aliases:
    - source: "/"
      destination: "/status.xsl"
      port: -1

# Logging
logging:
  accesslog:
    name: "access.log"
    archive: true

  errorlog:
    name: "error.log"
    level: "info"
    archive: true

  playlistlog:
    name: "playlist.log"
    archive: true

  logsize: 10000
  logarchive: true

# Security
security:
  chroot: false
  # Uncomment to run as specific user/group
  # changeowner:
  #   user: "mcaster1"
  #   group: "mcaster1"

# YP Directory for health check testing
directories:
  - yp-url: "http://dir.xiph.org/cgi-bin/yp-cgi"
    yp-url-timeout: 10
    touch-interval: 300
    yp-logfile: "/var/www/mcaster1.com/mcaster1dnas/build/logs/yp-health.log"
